{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8000","description":"Generated server url"}],"paths":{"/api/v1/jobs":{"get":{"tags":["job-controller"],"operationId":"getAllJobs","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/JobResponse"}}}}}}},"put":{"tags":["job-controller"],"operationId":"updateJob","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponse"}}}}}},"post":{"tags":["job-controller"],"operationId":"createJob","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponse"}}}}}}},"/api/v1/jobs/{jobId}/run":{"post":{"tags":["job-controller"],"operationId":"runManualJob","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponse"}}}}}}},"/api/v1/jobs/{jobId}/reset":{"post":{"tags":["job-controller"],"operationId":"resetRetryForFailedJobs","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"runNow","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponse"}}}}}}},"/api/v1/metrics/jobs/{jobId}/retry/status":{"get":{"tags":["job-monitoring-controller"],"operationId":"getJobRetryStatus","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobRetryResponse"}}}}}}},"/api/v1/metrics/jobs/status/count":{"get":{"tags":["job-monitoring-controller"],"operationId":"countJobByStatus","parameters":[{"name":"jobStatus","in":"query","required":false,"schema":{"type":"string","enum":["SCHEDULED","RUNNING","SUCCESS","FAILED","CANCELLED"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobStatusCountResponse"}}}}}}},"/api/v1/metrics/jobs/status/count/all":{"get":{"tags":["job-monitoring-controller"],"operationId":"countAllJobByStatus","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/JobStatusCountResponse"}}}}}}}},"/api/v1/metrics/jobs/execution/summary":{"get":{"tags":["job-monitoring-controller"],"operationId":"getJobExecutionSummary","parameters":[{"name":"jobActionType","in":"query","required":true,"schema":{"type":"string","enum":["HTTP","SLEEP","ECHO"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobExecutionSummaryResponse"}}}}}}},"/api/v1/jobs/{jobId}":{"get":{"tags":["job-controller"],"operationId":"getJobDetails","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponse"}}}}}},"delete":{"tags":["job-controller"],"operationId":"deleteJob","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponse"}}}}}}},"/api/v1/jobs/{jobId}/history":{"get":{"tags":["job-controller"],"operationId":"getRunHistoryByJobId","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"startedAt"}},{"name":"sortDir","in":"query","required":false,"schema":{"type":"string","default":"desc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageJobRunHistoryResponse"}}}}}}},"/api/v1/jobs/type":{"get":{"tags":["job-controller"],"operationId":"getAllJobsByType","parameters":[{"name":"jobType","in":"query","required":true,"schema":{"type":"string","enum":["CRON","ONE_TIME","MANUAL"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/JobResponse"}}}}}}}},"/api/v1/jobs/history/{historyId}":{"get":{"tags":["job-controller"],"operationId":"getRunHistoryByJobIdAndHistoryId","parameters":[{"name":"historyId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobRunHistoryResponse"}}}}}}}},"components":{"schemas":{"JobUpdateRequest":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"jobType":{"type":"string","enum":["CRON","ONE_TIME","MANUAL"]},"jobActionType":{"type":"string","enum":["HTTP","SLEEP","ECHO"]},"payload":{"type":"string"},"cronExpression":{"type":"string"},"scheduledTime":{"type":"string","format":"date-time"},"maxRetries":{"type":"integer","format":"int32"},"retryDelayMillis":{"type":"integer","format":"int64"}},"required":["id","jobActionType","jobType","name"]},"JobResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"jobType":{"type":"string","enum":["CRON","ONE_TIME","MANUAL"]},"jobStatus":{"type":"string","enum":["SCHEDULED","RUNNING","SUCCESS","FAILED","CANCELLED"]},"jobActionType":{"type":"string","enum":["HTTP","SLEEP","ECHO"]},"cronExpression":{"type":"string"},"scheduledTime":{"type":"string","format":"date-time"},"payload":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"retryCount":{"type":"integer","format":"int32"},"maxRetries":{"type":"integer","format":"int32"},"retryDelayMillis":{"type":"integer","format":"int64"},"lastRetryAt":{"type":"string","format":"date-time"}}},"JobCreateRequest":{"type":"object","properties":{"name":{"type":"string"},"jobType":{"type":"string","enum":["CRON","ONE_TIME","MANUAL"]},"jobActionType":{"type":"string","enum":["HTTP","SLEEP","ECHO"]},"payload":{"type":"string"},"cronExpression":{"type":"string"},"maxRetries":{"type":"integer","format":"int32"},"retryDelayMillis":{"type":"integer","format":"int64"},"scheduledTime":{"type":"string","format":"date-time"}},"required":["jobActionType","jobType","name"]},"JobRetryResponse":{"type":"object","properties":{"jobId":{"type":"string","format":"uuid"},"jobName":{"type":"string"},"totalAttempts":{"type":"integer","format":"int32"},"retryCount":{"type":"integer","format":"int32"},"maxRetries":{"type":"integer","format":"int32"},"errorMessage":{"type":"string"}}},"JobStatusCountResponse":{"type":"object","properties":{"jobStatus":{"type":"string","enum":["SCHEDULED","RUNNING","SUCCESS","FAILED","CANCELLED"]},"count":{"type":"integer","format":"int32"}}},"JobExecutionSummaryResponse":{"type":"object","properties":{"jobActionType":{"type":"string","enum":["HTTP","SLEEP","ECHO"]},"avgJobDurationMs":{"type":"integer","format":"int64"},"minDurationMs":{"type":"integer","format":"int64"},"maxDurationMs":{"type":"integer","format":"int64"},"executionCount":{"type":"integer","format":"int64"}}},"JobRunHistoryResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"jobId":{"type":"string","format":"uuid"},"jobName":{"type":"string"},"attemptNumber":{"type":"integer","format":"int32"},"startedAt":{"type":"string","format":"date-time"},"pickedAt":{"type":"string","format":"date-time"},"finishedAt":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["SCHEDULED","RUNNING","SUCCESS","FAILED","CANCELLED"]},"result":{"type":"string"},"errorMessage":{"type":"string"}}},"PageJobRunHistoryResponse":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/JobRunHistoryResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"},"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}}}}}